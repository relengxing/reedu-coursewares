<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>ç«è½¦è¿‡éš§é“é—®é¢˜ - AIè¾…åŠ©æ•™å­¦</title>
    <!-- KaTeX CSS -->
    <link href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/contrib/auto-render.min.js"></script>
    <link rel="stylesheet" href="navigation.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            background: linear-gradient(135deg, #2196F3 0%, #21CBF3 100%);
            color: #333;
            line-height: 1.6;
            font-size: 24px;
            /* å¢å¤§åŸºç¡€å­—ä½“å¤§å° */
        }

        section {
            width: 100%;
            min-height: 100vh;
            padding: 40px 20px;
            /* å¢åŠ ä¸Šä¸‹å†…è¾¹è· */
            box-sizing: border-box;
        }

        .container {
            max-width: 100%;
            /* å æ»¡æ•´ä¸ªå®½åº¦ */
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
        }

        .header h1 {
            font-size: 3.5rem;
            /* å¢å¤§æ ‡é¢˜å­—ä½“ */
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .header p {
            font-size: 2rem;
            /* å¢å¤§å‰¯æ ‡é¢˜å­—ä½“ */
            opacity: 0.9;
            text-align: center;
        }

        .card {
            background: white;
            border-radius: 15px;
            padding: 40px;
            /* å¢åŠ å†…è¾¹è· */
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            margin-bottom: 40px;
        }

        .card h2 {
            color: #2196F3;
            margin-bottom: 30px;
            font-size: 2.5rem;
            /* å¢å¤§å¡ç‰‡æ ‡é¢˜å­—ä½“ */
            border-bottom: 3px solid #2196F3;
            /* åŠ ç²—è¾¹æ¡† */
            padding-bottom: 15px;
        }

        .problem-text {
            background: #f8f9ff;
            padding: 30px;
            /* å¢åŠ å†…è¾¹è· */
            border-radius: 10px;
            margin-bottom: 30px;
            border-left: 6px solid #2196F3;
            /* åŠ ç²—è¾¹æ¡† */
            font-size: 1.2em;
            /* å¢å¤§å­—ä½“ */
        }

        .problem-text h3 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.8rem;
            /* å¢å¤§æ ‡é¢˜å­—ä½“ */
        }

        .problem-text ul,
        .problem-text ol {
            margin-left: 30px;
            /* å¢åŠ ç¼©è¿› */
        }

        .problem-text li {
            margin-bottom: 15px;
            color: #555;
            font-size: 1.2em;
            /* å¢å¤§å­—ä½“ */
        }

        /* åŠ¨ç”»å®¹å™¨æ ·å¼ */
        .animation-container {
            background: #f0f8ff;
            border-radius: 15px;
            padding: 30px;
            /* å¢åŠ å†…è¾¹è· */
            border: 4px solid #2196F3;
            /* åŠ ç²—è¾¹æ¡† */
            position: relative;
            overflow: hidden;
        }

        .animation-title {
            text-align: center;
            color: #2196F3;
            margin-bottom: 30px;
            font-weight: bold;
            font-size: 1.8rem;
            /* å¢å¤§å­—ä½“ */
        }

        .tunnel-scene {
            position: relative;
            height: 300px;
            /* å¢åŠ é«˜åº¦ */
            margin: 30px 0;
            background: linear-gradient(to bottom, #87CEEB 0%, #98FB98 100%);
            border-radius: 10px;
            overflow: hidden;
            border: 3px solid #ddd;
        }

        .ground {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 120px;
            /* å¢åŠ é«˜åº¦ */
            background: #8B4513;
            border-top: 4px solid #654321;
            /* åŠ ç²—è¾¹æ¡† */
        }

        .tunnel {
            position: absolute;
            bottom: 70px;
            left: 50%;
            transform: translateX(-50%);
            width: 500px;
            /* å¢åŠ å®½åº¦ */
            height: 150px;
            /* å¢åŠ é«˜åº¦ */
            background: #333;
            border-radius: 75px 75px 0 0;
            border: 4px solid #000;
            /* åŠ ç²—è¾¹æ¡† */
            box-shadow: inset 0 -15px 40px rgba(0, 0, 0, 0.6);
        }

        .tunnel::before {
            content: '';
            position: absolute;
            top: -4px;
            left: -30px;
            right: -30px;
            height: 30px;
            background: #654321;
            border-radius: 15px;
        }

        .train {
            position: absolute;
            bottom: 90px;
            left: -150px;
            width: 120px;
            /* å¢åŠ å®½åº¦ */
            height: 60px;
            /* å¢åŠ é«˜åº¦ */
            background: linear-gradient(45deg, #FF6B6B, #FF8E53);
            border-radius: 10px;
            border: 4px solid #333;
            /* åŠ ç²—è¾¹æ¡† */
            transition: left 2s ease-in-out;
            z-index: 10;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);
        }

        .train::before {
            content: '';
            position: absolute;
            right: -18px;
            top: 15px;
            width: 24px;
            height: 30px;
            background: #333;
            border-radius: 0 6px 6px 0;
        }

        .train::after {
            content: 'ğŸš‚';
            position: absolute;
            right: 10px;
            top: -10px;
            font-size: 36px;
            /* å¢å¤§å›¾æ ‡ */
            transform: scaleX(-1);
        }

        .train-wheels {
            position: absolute;
            bottom: -12px;
            left: 10px;
            right: 10px;
            height: 15px;
            background: repeating-linear-gradient(90deg, #333 0px, #333 12px, transparent 12px, transparent 24px);
        }

        /* æ­¥éª¤æŒ‡ç¤ºå™¨æ ·å¼ */
        .animation-steps {
            margin: 30px 0;
            text-align: center;
        }

        .step-indicator {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 25px;
            /* å¢åŠ é—´è· */
            flex-wrap: wrap;
        }

        .step-dot {
            width: 90px;
            height: 90px;
            border-radius: 50%;
            border: 4px solid transparent;
            background: linear-gradient(white, white) padding-box,
                        linear-gradient(135deg, #667eea 0%, #764ba2 100%) border-box;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 900;
            font-size: 24px;
            color: #667eea;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.2);
        }

        .step-dot::before {
            content: "";
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
            z-index: -1;
            transition: transform 0.3s;
        }

        .step-dot:hover::before {
            transform: scale(1.15);
        }

        .step-dot.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            transform: scale(1.15);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.5);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% {
                box-shadow: 0 8px 25px rgba(102, 126, 234, 0.5);
            }
            50% {
                box-shadow: 0 8px 35px rgba(102, 126, 234, 0.8);
            }
        }

        .step-dot.completed {
            background: linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%);
            color: white;
            border: 4px solid #4CAF50;
        }

        .step-dot.completed::after {
            content: "âœ“";
            position: absolute;
            top: -8px;
            right: -8px;
            width: 28px;
            height: 28px;
            background: #4CAF50;
            border-radius: 50%;
            border: 3px solid white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            box-shadow: 0 2px 8px rgba(76, 175, 80, 0.5);
        }

        .step-dot:hover {
            transform: translateY(-5px) scale(1.08);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        .step-dot::after {
            content: attr(data-description);
            position: absolute;
            bottom: -35px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 16px;
            /* å¢å¤§å­—ä½“ */
            white-space: nowrap;
            opacity: 0.7;
        }

        .measurement-line {
            position: absolute;
            height: 4px;
            /* åŠ ç²—çº¿æ¡ */
            transition: all 0.3s ease;
        }

        .measurement-line.train-length {
            background: #FF4444;
        }

        .measurement-line.tunnel-length {
            background: #2196F3;
        }

        .measurement-line.total-distance {
            background: #4CAF50;
            height: 5px;
            /* åŠ ç²—çº¿æ¡ */
        }

        .measurement-line.inner-distance {
            background: #FF9800;
            height: 5px;
            /* åŠ ç²—çº¿æ¡ */
        }

        .measurement-text {
            position: absolute;
            padding: 10px 18px;
            border-radius: 15px;
            font-size: 18px;
            font-weight: 800;
            border: 3px solid;
            transform: translateX(-50%);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            transition: all 0.3s;
            letter-spacing: 0.5px;
        }

        .measurement-text:hover {
            transform: translateX(-50%) translateY(-3px) scale(1.05);
            box-shadow: 0 6px 18px rgba(0, 0, 0, 0.25);
        }

        .measurement-text.train-length {
            color: white;
            background: linear-gradient(135deg, #FF5252 0%, #FF1744 100%);
            border-color: #FF1744;
        }

        .measurement-text.tunnel-length {
            color: white;
            background: linear-gradient(135deg, #2196F3 0%, #1976D2 100%);
            border-color: #1976D2;
        }

        .measurement-text.total-distance {
            color: white;
            background: linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%);
            border-color: #2E7D32;
        }

        .measurement-text.inner-distance {
            color: white;
            background: linear-gradient(135deg, #FF9800 0%, #F57C00 100%);
            border-color: #F57C00;
        }

        .phase-indicator {
            text-align: center;
            margin: 25px 0;
            padding: 20px 30px;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
            border-radius: 20px;
            font-weight: 800;
            color: #667eea;
            font-size: 1.6rem;
            border: 2px solid rgba(102, 126, 234, 0.3);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.2);
            letter-spacing: 0.5px;
            transition: all 0.3s;
        }

        .phase-indicator:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.3);
        }

        .control-panel {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 30px;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 18px 35px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1.3rem;
            font-weight: 700;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            margin: 5px;
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
            position: relative;
            overflow: hidden;
            letter-spacing: 0.5px;
            text-transform: uppercase;
        }

        .btn::before {
            content: "";
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .btn:hover::before {
            width: 300px;
            height: 300px;
        }

        .btn:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 12px 30px rgba(102, 126, 234, 0.6);
        }

        .btn:active {
            transform: translateY(-1px) scale(0.98);
        }

        .btn:disabled {
            background: linear-gradient(135deg, #95a5a6 0%, #7f8c8d 100%);
            cursor: not-allowed;
            transform: none;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            opacity: 0.6;
        }

        .btn:disabled:hover {
            transform: none;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }

        .btn:disabled::before {
            display: none;
        }

        .equation {
            background: #f8f9ff;
            padding: 20px;
            /* å¢åŠ å†…è¾¹è· */
            border-radius: 10px;
            margin: 20px 0;
            font-family: 'Times New Roman', serif;
            font-size: 1.8rem;
            /* å¢å¤§å­—ä½“ */
            text-align: center;
            border: 3px dashed #2196F3;
            /* åŠ ç²—è¾¹æ¡† */
        }

        .highlight {
            background: #fff3cd;
            padding: 4px 8px;
            /* å¢åŠ å†…è¾¹è· */
            border-radius: 6px;
            font-weight: bold;
            font-size: 1.1em;
            /* å¢å¤§å­—ä½“ */
        }

        .dimensions-display {
            background: #e8f5e8;
            padding: 20px;
            /* å¢åŠ å†…è¾¹è· */
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
            border: 3px solid #4CAF50;
            /* åŠ ç²—è¾¹æ¡† */
            font-size: 1.5rem;
            /* å¢å¤§å­—ä½“ */
        }

        .phase-1 {
            background: #ffebee;
        }

        .phase-2 {
            background: #e8f5e8;
        }

        .phase-3 {
            background: #fff3e0;
        }

        footer {
            text-align: center;
            padding: 30px;
            background: #2c3e50;
            color: white;
            margin-top: 30px;
            font-size: 1.2rem;
            /* å¢å¤§å­—ä½“ */
        }


        @media (max-width: 768px) {
            body {
                font-size: 20px;
                /* è°ƒæ•´ç§»åŠ¨ç«¯å­—ä½“å¤§å° */
            }

            .header h1 {
                font-size: 2.5rem;
            }

            .header p {
                font-size: 1.5rem;
            }

            .card h2 {
                font-size: 2rem;
            }

            .tunnel-scene {
                height: 250px;
            }

            .tunnel {
                width: 350px;
                height: 120px;
            }

            .train {
                width: 100px;
                height: 50px;
                left: -120px;
            }

            .train::after {
                font-size: 28px;
            }

            .step-indicator {
                gap: 15px;
            }

            .step-dot {
                width: 60px;
                height: 60px;
                font-size: 16px;
            }

            .control-panel {
                flex-wrap: wrap;
                gap: 10px;
            }

            .btn {
                padding: 12px 24px;
                font-size: 1.1rem;
            }

            .measurement-text {
                font-size: 14px;
                padding: 4px 8px;
            }
        }
    </style>
</head>

<body>
<section data-section="1" id="section1">
    <div class="container">
        <div class="header">
            <h1>ğŸš‚ AIè¾…åŠ©æ•™å­¦ï¼šç«è½¦è¿‡éš§é“é—®é¢˜</h1>
            <p>ç”¨åŠ¨ç”»ç†è§£äºŒå…ƒä¸€æ¬¡æ–¹ç¨‹ç»„çš„å®é™…åº”ç”¨</p>
        </div>

        <div class="card">
            <h2>ğŸ“é¢˜ç›®å±•ç¤º</h2>
            <div class="problem-text">
                <h3>ç«è½¦è¿‡éš§é“é—®é¢˜</h3>
                <p><strong>é¢˜ç›®ï¼š</strong>ä¸€åˆ—ç«è½¦ä»¥40 m/sçš„é€Ÿåº¦ç»è¿‡ä¸€ä¸ªéš§é“ï¼Œä»è½¦å¤´è¿›å…¥éš§é“åˆ°è½¦å°¾é©¶å‡ºéš§é“ï¼Œå…±ç”¨æ—¶30sï¼Œå…¶ä¸­ç«è½¦å…¨èº«éƒ½åœ¨éš§é“é‡Œçš„æ—¶é—´æ˜¯20sï¼Œæ±‚éš§é“å’Œç«è½¦çš„é•¿åº¦ã€‚
                </p>

                <p><strong>å·²çŸ¥æ¡ä»¶ï¼š</strong></p>
                <ul>
                    <li>ç«è½¦é€Ÿåº¦ï¼š40 m/sï¼ˆåŒ€é€Ÿè¿åŠ¨ï¼‰</li>
                    <li>æ€»é€šè¿‡æ—¶é—´ï¼š30ç§’</li>
                    <li>å®Œå…¨åœ¨éš§é“å†…æ—¶é—´ï¼š20ç§’</li>
                </ul>

                <p><strong>æ€è€ƒé—®é¢˜ï¼š</strong></p>
                <ol>
                    <li>è¿™ä¸ªé—®é¢˜æ¶‰åŠå“ªäº›é‡ï¼Ÿ</li>
                    <li>è¿™äº›é‡ä¹‹é—´æœ‰æ€æ ·çš„å…³ç³»ï¼Ÿ</li>
                    <li>å¦‚ä½•ç”¨å›¾ç¤ºè¯´æ˜æ•´ä¸ªè¿‡ç¨‹ï¼Ÿ</li>
                </ol>
            </div>
        </div>
    </div>
</section>

<section data-section="2" id="section2">
    <div class="container">
        <div class="card">
            <h2>ğŸ”åˆ†æé—®é¢˜ä¸­çš„é‡å’Œå…³ç³»</h2>

            <p><strong>é—®é¢˜åˆ†æï¼š</strong></p>
            <ul>
                <li>è¿™æ˜¯ä¸€ä¸ªå…³äº<span class="highlight">è¿åŠ¨è·¯ç¨‹å’Œæ—¶é—´</span>çš„é—®é¢˜</li>
                <li>ç«è½¦é€šè¿‡éš§é“å¯ä»¥åˆ†ä¸º<span class="highlight">ä¸‰ä¸ªé˜¶æ®µ</span></li>
                <li>éœ€è¦å»ºç«‹é•¿åº¦ä¸æ—¶é—´çš„å…³ç³»</li>
            </ul>

            <p><strong>è®¾å®šå˜é‡ï¼š</strong></p>
            <ul>
                <li>è®¾éš§é“é•¿åº¦ä¸º <span class="highlight">\(x\)</span> ç±³</li>
                <li>è®¾ç«è½¦é•¿åº¦ä¸º <span class="highlight">\(y\)</span> ç±³</li>
            </ul>

            <div class="equation">
                <p><strong>å…³é”®ç†è§£ï¼š</strong></p>
                <p>æ ¹æ® <strong>è·¯ç¨‹ = é€Ÿåº¦ Ã— æ—¶é—´</strong>ï¼ˆ<span style="color: #1976D2; font-style: italic;">ç‰©ç†ä¸­çš„åŒ€é€Ÿç›´çº¿è¿åŠ¨å…¬å¼ \( s = v \times t \)</span>ï¼‰
                </p>
                <p>æˆ‘ä»¬éœ€è¦åˆ†æç«è½¦åœ¨ä¸åŒé˜¶æ®µè¡Œé©¶çš„è·¯ç¨‹</p>
            </div>
        </div>
    </div>
</section>

<section data-section="3" id="section3">
    <div class="container">
        <div class="card">
            <h2>ğŸ¬ ç«è½¦è¿‡éš§é“åŠ¨ç”»æ¼”ç¤º</h2>
            <!-- åŠ¨ç”»æ¼”ç¤ºåŒºåŸŸ -->
            <div class="animation-section">
                <div class="card animation-card">
                    <div class="animation-container">
                        <div class="animation-title">åˆ†æ­¥å±•ç¤ºç«è½¦é€šè¿‡éš§é“çš„å®Œæ•´è¿‡ç¨‹</div>

                        <div class="tunnel-scene" id="tunnelScene">
                            <div class="ground"></div>
                            <div class="tunnel" id="tunnel"></div>
                            <div class="train" id="train">
                                <div class="train-wheels"></div>
                            </div>

                            <!-- åŸºç¡€æµ‹é‡çº¿æ¡ -->
                            <div class="measurement-line train-length" id="trainLength" style="display: none;">
                            </div>
                            <div class="measurement-text train-length" id="trainLengthText" style="display: none;">
                                ç«è½¦é•¿åº¦ y
                            </div>

                            <div class="measurement-line tunnel-length" id="tunnelLength" style="display: none;">
                            </div>
                            <div class="measurement-text tunnel-length" id="tunnelLengthText"
                                 style="display: none;">éš§é“é•¿åº¦ x
                            </div>

                            <!-- å…³é”®è·¯ç¨‹æµ‹é‡çº¿ -->
                            <div class="measurement-line total-distance" id="totalDistance" style="display: none;">
                            </div>
                            <div class="measurement-text total-distance" id="totalDistanceText"
                                 style="display: none;">æ€»è·¯ç¨‹ x+y
                            </div>

                            <div class="measurement-line inner-distance" id="innerDistance" style="display: none;">
                            </div>
                            <div class="measurement-text inner-distance" id="innerDistanceText"
                                 style="display: none;">å†…éƒ¨è·¯ç¨‹ x-y
                            </div>
                        </div>

                        <div class="phase-indicator" id="phaseIndicator">
                            å‡†å¤‡å¼€å§‹ï¼šç«è½¦å³å°†è¿›å…¥éš§é“
                        </div>

                        <div class="animation-steps" id="animationSteps">
                            <div class="step-indicator">
                                <!-- <div class="step-dot active" data-step="0" data-description="å‡†å¤‡é˜¶æ®µ">å‡†å¤‡</div> -->
                                <div class="step-dot" data-description="è½¦å¤´è¿›å…¥" data-step="1">1</div>
                                <div class="step-dot" data-description="å®Œå…¨è¿›å…¥" data-step="2">2</div>
                                <div class="step-dot" data-description="è½¦å¤´å‡ºæ¥" data-step="3">3</div>
                                <div class="step-dot" data-description="è½¦å°¾å‡ºæ¥" data-step="4">4</div>
                                <div class="step-dot" data-description="å®Œå…¨ç¦»å¼€" data-step="5">5</div>
                            </div>
                        </div>

                        <div class="control-panel">
                            <button class="btn" onclick="nextAnimationStep()">ä¸‹ä¸€æ­¥</button>
                            <button class="btn" onclick="resetAnimation()">é‡ç½®</button>
                            <button class="btn" onclick="showEducationalMeasurements()">æ˜¾ç¤ºæ•°å­¦å…³ç³»</button>
                            <button class="btn" onclick="showBasicMeasurements()">æ˜¾ç¤ºåŸºç¡€æµ‹é‡</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="problem-text phase-1">
                <h4>ğŸ”µ é˜¶æ®µ1ï¼šè½¦å¤´è¿›å…¥åˆ°è½¦å°¾è¿›å…¥</h4>
                <p>â€¢ ä»è½¦å¤´åˆšè¿›å…¥éš§é“åˆ°è½¦å°¾åˆšè¿›å…¥éš§é“</p>
                <p>â€¢ ç«è½¦è¡Œé©¶è·ç¦» = <strong>ç«è½¦é•¿åº¦ \(y\)</strong></p>
            </div>

            <div class="problem-text phase-2">
                <h4>ğŸŸ¢ é˜¶æ®µ2ï¼šå®Œå…¨åœ¨éš§é“å†…</h4>
                <p>â€¢ ç«è½¦å®Œå…¨åœ¨éš§é“å†…è¿è¡Œ</p>
                <p>â€¢ ç«è½¦è¡Œé©¶è·ç¦» = <strong>éš§é“é•¿åº¦ - ç«è½¦é•¿åº¦ = \(x - y\)</strong></p>
                <p>â€¢ è€—æ—¶ = <strong>20ç§’</strong>ï¼ˆé¢˜ç›®ç»™å‡ºï¼‰</p>
            </div>

            <div class="problem-text phase-3">
                <h4>ğŸŸ¡ é˜¶æ®µ3ï¼šè½¦å¤´å‡ºæ¥åˆ°è½¦å°¾å‡ºæ¥</h4>
                <p>â€¢ ä»è½¦å¤´åˆšå‡ºéš§é“åˆ°è½¦å°¾åˆšå‡ºéš§é“</p>
                <p>â€¢ ç«è½¦è¡Œé©¶è·ç¦» = <strong>ç«è½¦é•¿åº¦ \(y\)</strong></p>
            </div>
        </div>
    </div>
</section>

<section data-section="4" id="section4">
    <div class="container">
        <div class="card">
            <h2>ğŸ“å»ºç«‹äºŒå…ƒä¸€æ¬¡æ–¹ç¨‹ç»„</h2>

            <p><strong>æ ¹æ®ä¸¤ä¸ªå…³é”®æ—¶é—´å»ºç«‹æ–¹ç¨‹ï¼š</strong></p>

            <div class="equation">
                <p><strong>æ–¹ç¨‹1ï¼šæ€»é€šè¿‡æ—¶é—´ = 30ç§’</strong></p>
                <p>ğŸŸ¢ ç«è½¦ä»å¼€å§‹è¿›å…¥åˆ°å®Œå…¨ç¦»å¼€çš„æ€»è·¯ç¨‹ = <span class="highlight">\(x + y\)</span></p>
                <p><small>ğŸ’¡ ä¸ºä»€ä¹ˆæ˜¯ \(x + y\)ï¼Ÿè§‚å¯ŸåŠ¨ç”»ï¼šç«è½¦éœ€è¦"ç©¿è¶Šæ•´ä¸ªéš§é“é•¿åº¦\(x\)" +
                    "è‡ªèº«å®Œå…¨é€šè¿‡æ‰€éœ€çš„é¢å¤–é•¿åº¦\(y\)"</small></p>
                <p>æ ¹æ® è·¯ç¨‹ = é€Ÿåº¦ Ã— æ—¶é—´ï¼š</p>
                <p>\[x + y = 40 \times 30\]</p>
                <p><strong>\[x + y = 1200\]</strong></p>
            </div>

            <div class="equation">
                <p><strong>æ–¹ç¨‹2ï¼šå®Œå…¨åœ¨éš§é“å†…æ—¶é—´ = 20ç§’</strong></p>
                <p>ğŸŸ  ç«è½¦å®Œå…¨åœ¨éš§é“å†…è¡Œé©¶çš„è·¯ç¨‹ = <span class="highlight">\(x - y\)</span></p>
                <p><small>ğŸ’¡ ä¸ºä»€ä¹ˆæ˜¯ \(x - y\)ï¼Ÿè§‚å¯ŸåŠ¨ç”»ï¼šä»"è½¦å°¾åˆšè¿›å…¥"åˆ°"è½¦å¤´åˆšå‡ºæ¥"ï¼Œç«è½¦è¡Œé©¶è·ç¦» = éš§é“é•¿åº¦\(x\) -
                    ç«è½¦é•¿åº¦\(y\)</small></p>
                <p>æ ¹æ® è·¯ç¨‹ = é€Ÿåº¦ Ã— æ—¶é—´ï¼š</p>
                <p>\[x - y = 40 \times 20\]</p>
                <p><strong>\[x - y = 800\]</strong></p>
            </div>

            <div class="equation">
                <p><strong>å¾—åˆ°äºŒå…ƒä¸€æ¬¡æ–¹ç¨‹ç»„ï¼š</strong></p>
                \[
                \begin{cases}
                x + y = 1200 & \text{(1) [æ€»é€šè¿‡]} \\
                x - y = 800 & \text{(2) [å®Œå…¨å†…éƒ¨]}
                \end{cases}
                \]
            </div>

            <p><strong>ç†è§£è¦ç‚¹ï¼š</strong></p>
            <ul>
                <li><strong>\(x + y\)ï¼š</strong>è¡¨ç¤ºç«è½¦ä»å¤´éƒ¨è¿›å…¥åˆ°å°¾éƒ¨ç¦»å¼€çš„æ€»è¡Œç¨‹</li>
                <li><strong>\(x - y\)ï¼š</strong>è¡¨ç¤ºç«è½¦å®Œå…¨åœ¨éš§é“å†…æ—¶çš„è¡Œç¨‹</li>
                <li>è¿™ä¸¤ä¸ªé‡åˆ†åˆ«å¯¹åº”30ç§’å’Œ20ç§’çš„è¡Œç¨‹</li>
            </ul>
        </div>
    </div>
</section>

<section data-section="5" id="section5">
    <div class="container">
        <div class="card">
            <h2>ğŸ§®æ±‚è§£äºŒå…ƒä¸€æ¬¡æ–¹ç¨‹ç»„</h2>

            <p><strong>ä½¿ç”¨åŠ å‡æ¶ˆå…ƒæ³•æ±‚è§£ï¼š</strong></p>

            <div class="equation">
                <p>æ–¹ç¨‹ç»„ï¼š</p>
                \[
                \begin{cases}
                x + y = 1200 & \text{(1)} \\
                x - y = 800 & \text{(2)}
                \end{cases}
                \]
            </div>

            <p><strong>æ­¥éª¤1ï¼šä¸¤å¼ï¼ˆ1ï¼‰+ï¼ˆ2ï¼‰æ¶ˆé™¤yå¾—</strong></p>
            <div class="equation">
                \[(x + y) + (x - y) = 1200 + 800\]
                \[2x = 2000\]
                \[\boxed{x = 1000 \text{ ç±³}}\]
            </div>

            <p><strong>æ­¥éª¤2ï¼šå°†xå€¼ä»£å…¥æ–¹ç¨‹(1)æ±‚y</strong></p>
            <div class="equation">
                \[1000 + y = 1200\]
                \[y = 1200 - 1000\]
                \[\boxed{y = 200 \text{ ç±³}}\]
            </div>

            <div class="dimensions-display">
                <h4>âœ… æœ€ç»ˆç­”æ¡ˆ</h4>
                <p><strong>éš§é“é•¿åº¦ï¼š</strong>\(x = 1000\) ç±³</p>
                <p><strong>ç«è½¦é•¿åº¦ï¼š</strong>\(y = 200\) ç±³</p>
            </div>
        </div>
    </div>
</section>

<section data-section="6" id="section6">
    <div class="container">
        <div class="card">
            <h2>âœ…éªŒè¯ç­”æ¡ˆ</h2>

<!--            <p><strong>éªŒè¯è®¡ç®—ç»“æœï¼š</strong></p>-->

<!--            <div class="equation">-->
<!--                <p><strong>éªŒè¯æ–¹ç¨‹(1)ï¼š\(x + y = 1200\)</strong></p>-->
<!--                <p>\(1000 + 200 = 1200\) âœ“</p>-->
<!--            </div>-->

<!--            <div class="equation">-->
<!--                <p><strong>éªŒè¯æ–¹ç¨‹(2)ï¼š\(x - y = 800\)</strong></p>-->
<!--                <p>\(1000 - 200 = 800\) âœ“</p>-->
<!--            </div>-->

            <div class="equation">
                <p><strong>éªŒè¯è®¡ç®—ç»“æœï¼š</strong></p>
                <p>â€¢ æ€»é€šè¿‡æ—¶é—´ï¼š\(\frac{1000 + 200}{40} = \frac{1200}{40} = 30\) ç§’ âœ“</p>
                <p>â€¢ å®Œå…¨å†…éƒ¨æ—¶é—´ï¼š\(\frac{1000 - 200}{40} = \frac{800}{40} = 20\) ç§’ âœ“</p>
            </div>
        </div>
    </div>
</section>



<section data-section="7" id="section7">
    <div class="container">
        <div class="card">
            <h2>âœ…æ€»ç»“</h2>
            
            <div class="problem-text" style="background: #e8f5e8; border-left-color: #4CAF50;">
                <h3>ğŸ’¡ é—®é¢˜çš„æ•°å­¦æœ¬è´¨</h3>
                <p><strong>â€¢ è¿åŠ¨é—®é¢˜ï¼š</strong>åˆ©ç”¨è·¯ç¨‹ = é€Ÿåº¦ Ã— æ—¶é—´å»ºç«‹ç­‰é‡å…³ç³»</p>
                <p><strong>â€¢ å‡ ä½•ç†è§£ï¼š</strong>ç«è½¦é€šè¿‡éš§é“çš„è·¯ç¨‹åˆ†ææ˜¯å…³é”®</p>
                <p><strong>â€¢ ä»£æ•°æ–¹æ³•ï¼š</strong>äºŒå…ƒä¸€æ¬¡æ–¹ç¨‹ç»„æ˜¯è§£å†³æ­¤ç±»é—®é¢˜çš„æœ‰åŠ›å·¥å…·</p>
                <p><strong>â€¢ å®é™…åº”ç”¨ï¼š</strong>ç±»ä¼¼é—®é¢˜åœ¨äº¤é€šã€å·¥ç¨‹ä¸­ç»å¸¸å‡ºç°</p>
            </div>

<!--            <div class="problem-text" style="background: #fff3cd; border-left-color: #ff9800;">-->
<!--                <h3>ğŸ¯ AIè¾…åŠ©æ•™å­¦çš„ä»·å€¼</h3>-->
<!--                <p><strong>â€¢ å¯è§†åŒ–ï¼š</strong>åŠ¨ç”»æ¼”ç¤ºè®©æŠ½è±¡çš„è¿åŠ¨è¿‡ç¨‹å˜å¾—ç›´è§‚</p>-->
<!--                <p><strong>â€¢ åˆ†æ­¥å¼•å¯¼ï¼š</strong>å¤æ‚é—®é¢˜åˆ†è§£ä¸ºå®¹æ˜“ç†è§£çš„æ­¥éª¤</p>-->
<!--                <p><strong>â€¢ äº’åŠ¨ä½“éªŒï¼š</strong>å­¦ç”Ÿå¯ä»¥åå¤è§‚çœ‹ï¼ŒæŒ‰è‡ªå·±èŠ‚å¥å­¦ä¹ </p>-->
<!--                <p><strong>â€¢ æ¦‚å¿µå»ºæ¨¡ï¼š</strong>å¸®åŠ©å­¦ç”Ÿç†è§£æ•°å­¦ä¸ç°å®ä¸–ç•Œçš„è”ç³»</p>-->
<!--            </div>-->

<!--            <div class="problem-text" style="background: #acdfeb; border-left-color: #8ad4a3;">-->
<!--                <h4>ğŸš€ æ‹“å±•æ€è€ƒ</h4>-->
<!--                <p>â€¢ å¦‚æœç«è½¦é€Ÿåº¦å˜ä¸º50 m/sï¼Œå…¶ä»–æ¡ä»¶ä¸å˜ï¼Œç»“æœå¦‚ä½•ï¼Ÿ</p>-->
<!--                <p>â€¢ ä¸¤åˆ—ç«è½¦ç›¸å‘è€Œè¡Œé€šè¿‡éš§é“ï¼Œå¦‚ä½•åˆ†æï¼Ÿ</p>-->
<!--                <p>â€¢ ç°å®ä¸­çš„è¿‡é“è·¯æ¡¥é—®é¢˜æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ</p>-->
<!--            </div>-->
        </div>
    </div>
</section>

<!-- 
    <footer>
        <p>æ•°å­¦è¯¾åç»ƒä¹  &copy; 2025|æµ·æ—ºå­¦æ ¡-åˆ˜å¦‚èŠ³</p>
    </footer> -->

<script>
    document.addEventListener('DOMContentLoaded', function () {

        // æ¸²æŸ“æ•°å­¦å…¬å¼
        if (typeof renderMathInElement !== 'undefined') {
            renderMathInElement(document.body, {
                delimiters: [
                    {left: '\\(', right: '\\)', display: false},
                    {left: '\\[', right: '\\]', display: true}
                ]
            });
        }

        // å­˜å‚¨å½“å‰æ’­æ”¾çš„audio
        let currentAudio = null;

        // æ’­æ”¾éŸ³é¢‘
        function playAudio(audio) {
            // å¦‚æœå·²ç»æœ‰audioåœ¨æ’­æ”¾ï¼Œå…ˆæš‚åœ
            if (currentAudio && currentAudio !== audio) {
                currentAudio.pause();
                currentAudio.currentTime = 0; // å¯é€‰ï¼šé‡ç½®æ’­æ”¾è¿›åº¦
            }

            // æ’­æ”¾æ–°çš„audioå¹¶æ›´æ–°currentAudio
            audio.play();
            currentAudio = audio;
        }

        // åŠ¨ç”»ç›¸å…³å˜é‡
        let animationState = 'ready';
        let currentAnimationStep = 0;
        let isStepByStepMode = false;

        // åŠ¨ç”»æ­¥éª¤é…ç½®
        const animationSteps = [
            // {
            //     name: 'å‡†å¤‡é˜¶æ®µ',
            //     description: 'ç«è½¦å³å°†è¿›å…¥éš§é“',
            //     trainPosition: -150,
            //     className: 'phase-indicator'
            // },
            {
                name: 'æ­¥éª¤1ï¼šè½¦å¤´åˆšè¿›å…¥',
                description: 'ç«è½¦å¤´åˆšå¥½è¿›å…¥éš§é“å£(ğŸ¤–AIé…éŸ³)',
                trainPosition: 150,
                className: 'phase-indicator phase-1',
                mp3: new Audio('./ç«è½¦èµ„æº/ç«è½¦å¤´åˆšå¥½è¿›å…¥éš§é“.mp3')
            },
            {
                name: 'æ­¥éª¤2ï¼šå®Œå…¨è¿›å…¥éš§é“',
                description: 'ç«è½¦è½¦å°¾åˆšå¥½è¿›å…¥éš§é“å…¥å£ï¼Œæ•´ä¸ªç«è½¦éƒ½åœ¨éš§é“å†…(ğŸ¤–AIé…éŸ³)',
                trainPosition: 250,
                className: 'phase-indicator phase-2',
                mp3: new Audio('./ç«è½¦èµ„æº/ç«è½¦è½¦å°¾åˆšå¥½è¿›å…¥éš§é“å…¥å£ï¼Œæ•´ä¸ªç«è½¦éƒ½åœ¨éš§é“å†….mp3')
            },
            {
                name: 'æ­¥éª¤3ï¼šè½¦å¤´åˆšå‡ºéš§é“',
                description: 'ç«è½¦å¤´åˆšå¥½å‡ºéš§é“å£ï¼Œä½†è½¦èº«ä»åœ¨éš§é“å†…(ğŸ¤–AIé…éŸ³)',
                trainPosition: 550,
                className: 'phase-indicator phase-3',
                mp3: new Audio('./ç«è½¦èµ„æº/ç«è½¦å¤´åˆšå¥½å‡ºéš§é“å£ï¼Œä½†è½¦èº«ä»åœ¨éš§é“å†….mp3')
            },
            {
                name: 'æ­¥éª¤4ï¼šè½¦å°¾åˆšå‡ºéš§é“',
                description: 'ç«è½¦è½¦å°¾åˆšå¥½ç¦»å¼€éš§é“å‡ºå£ï¼Œç«è½¦å®Œå…¨ç¦»å¼€éš§é“äº†(ğŸ¤–AIé…éŸ³)',
                trainPosition: 650,
                className: 'phase-indicator phase-1',
                mp3: new Audio('./ç«è½¦èµ„æº/ç«è½¦è½¦å°¾åˆšå¥½ç¦»å¼€éš§é“å‡ºå£ï¼Œç«è½¦å®Œå…¨ç¦»å¼€éš§é“äº†.mp3')
            },
            {
                name: 'æ­¥éª¤5ï¼šç«è½¦è¿œç¦»',
                description: 'ç«è½¦ç»§ç»­å‘å‰è¡Œé©¶ï¼Œå®Œå…¨ç¦»å¼€(ğŸ¤–AIé…éŸ³)',
                trainPosition: 800,
                className: 'phase-indicator',
                mp3: new Audio('./ç«è½¦èµ„æº/ç«è½¦ç»§ç»­å‘å‰è¡Œé©¶ï¼Œå®Œå…¨ç¦»å¼€.mp3')

            }
        ];

        // ä¸‹ä¸€æ­¥åŠ¨ç”»
        function nextAnimationStep() {
            if (animationState !== 'running' && !isStepByStepMode) {
                startStepByStepAnimation();
                return;
            }

            if (currentAnimationStep < animationSteps.length - 1) {
                currentAnimationStep++;
                goToAnimationStep(currentAnimationStep);
            } else {
                animationState = 'finished';
                updatePhaseIndicator('åŠ¨ç”»å®Œæˆï¼ç«è½¦å·²å®Œå…¨é€šè¿‡éš§é“', 'phase-indicator');
            }
        }

        // è·³è½¬åˆ°æŒ‡å®šåŠ¨ç”»æ­¥éª¤
        function goToAnimationStep(stepIndex) {
            if (stepIndex < 0 || stepIndex >= animationSteps.length) return;

            currentAnimationStep = stepIndex;
            const step = animationSteps[stepIndex];
            const train = document.getElementById('train');

            const trainPosition = calculateTrainPosition(stepIndex);
            train.style.left = trainPosition + 'px';

            updatePhaseIndicator(step.description, step.className);
            updateStepIndicator(stepIndex);
            // æ’­æ”¾éŸ³é¢‘
            const mp3 = step.mp3
            playAudio(mp3)

        }

        // è®¡ç®—å‡†ç¡®çš„ç«è½¦ä½ç½®
        function calculateTrainPosition(stepIndex) {
            const scene = document.getElementById('tunnelScene');
            const tunnel = document.getElementById('tunnel');

            if (!scene || !tunnel) return animationSteps[stepIndex].trainPosition;

            const sceneRect = scene.getBoundingClientRect();
            const tunnelRect = tunnel.getBoundingClientRect();

            const tunnelLeftInScene = tunnelRect.left - sceneRect.left;
            const tunnelRightInScene = tunnelRect.right - sceneRect.left;

            const trainWidth = 120;

            switch (stepIndex) {
                case 0:
                    return tunnelLeftInScene - trainWidth;
                case 1:
                    return tunnelLeftInScene;
                case 2:
                    return tunnelRightInScene - trainWidth;
                case 3:
                    return tunnelRightInScene;
                case 4:
                    return tunnelRightInScene + 100;
                default:
                    return animationSteps[stepIndex].trainPosition;
            }
        }

        // æ›´æ–°é˜¶æ®µæŒ‡ç¤ºå™¨
        function updatePhaseIndicator(text, className) {
            const indicator = document.getElementById('phaseIndicator');
            indicator.textContent = text;
            indicator.className = className;
        }

        // æ›´æ–°æ­¥éª¤æŒ‡ç¤ºå™¨
        function updateStepIndicator(activeStep) {
            const stepDots = document.querySelectorAll('.step-dot');
            stepDots.forEach((dot, index) => {
                dot.classList.remove('active', 'completed');
                if (index === activeStep) {
                    dot.classList.add('active');
                } else if (index < activeStep) {
                    dot.classList.add('completed');
                }
            });
        }

        // å¼€å§‹åˆ†æ­¥åŠ¨ç”»
        function startStepByStepAnimation() {
            isStepByStepMode = true;
            resetAnimation();
            animationState = 'running';

            setTimeout(() => {
                goToAnimationStep(0);
            }, 100);
        }

        // é‡ç½®åŠ¨ç”»
        function resetAnimation() {
            animationState = 'ready';
            currentAnimationStep = 1;
            isStepByStepMode = false;

            const train = document.getElementById('train');
            train.style.transition = 'none';
            train.style.left = '-150px';

            setTimeout(() => {
                train.style.transition = 'left 2s ease-in-out';
            }, 50);

            updatePhaseIndicator('å‡†å¤‡å¼€å§‹ï¼šç«è½¦å³å°†è¿›å…¥éš§é“', 'phase-indicator');
            updateStepIndicator(0);
            hideMeasurements();
        }

        // æ˜¾ç¤ºåŸºç¡€æµ‹é‡ï¼ˆç«è½¦é•¿åº¦å’Œéš§é“é•¿åº¦ï¼‰
        function showBasicMeasurements() {
            hideMeasurements();

            const scene = document.getElementById('tunnelScene');
            const tunnel = document.getElementById('tunnel');
            const train = document.getElementById('train');

            if (!scene || !tunnel || !train) return;

            const sceneRect = scene.getBoundingClientRect();
            const tunnelRect = tunnel.getBoundingClientRect();
            const trainRect = train.getBoundingClientRect();

            const tunnelLeftInScene = tunnelRect.left - sceneRect.left;
            const trainLeftInScene = trainRect.left - sceneRect.left;

            const trainLength = document.getElementById('trainLength');
            const trainLengthText = document.getElementById('trainLengthText');
            const tunnelLength = document.getElementById('tunnelLength');
            const tunnelLengthText = document.getElementById('tunnelLengthText');

            // ç«è½¦é•¿åº¦æµ‹é‡çº¿
            trainLength.style.display = 'block';
            trainLength.style.bottom = '70px';
            trainLength.style.left = Math.max(10, trainLeftInScene) + 'px';
            trainLength.style.width = '120px';
            trainLength.style.transform = 'none';

            trainLengthText.style.display = 'block';
            trainLengthText.style.bottom = '45px';
            trainLengthText.style.left = Math.max(70, trainLeftInScene + 60) + 'px';
            trainLengthText.style.transform = 'none';
            trainLengthText.textContent = 'ç«è½¦é•¿åº¦ y';

            // éš§é“é•¿åº¦æµ‹é‡çº¿
            tunnelLength.style.display = 'block';
            tunnelLength.style.top = '60px';
            tunnelLength.style.left = tunnelLeftInScene + 'px';
            tunnelLength.style.width = '500px';
            tunnelLength.style.transform = 'none';

            tunnelLengthText.style.display = 'block';
            tunnelLengthText.style.top = '35px';
            tunnelLengthText.style.left = (tunnelLeftInScene + 250) + 'px';
            tunnelLengthText.style.transform = 'translateX(-50%)';
            tunnelLengthText.textContent = 'éš§é“é•¿åº¦ x';
        }

        // æ˜¾ç¤ºæ•™å­¦ç”¨æµ‹é‡ï¼ˆé‡ç‚¹å±•ç¤ºx+yå’Œx-yçš„æ¦‚å¿µï¼‰
        function showEducationalMeasurements() {
            hideMeasurements();

            const scene = document.getElementById('tunnelScene');
            const tunnel = document.getElementById('tunnel');

            if (!scene || !tunnel) return;

            const sceneRect = scene.getBoundingClientRect();
            const tunnelRect = tunnel.getBoundingClientRect();

            const tunnelLeftInScene = tunnelRect.left - sceneRect.left;
            const tunnelRightInScene = tunnelRect.right - sceneRect.left;
            const sceneWidth = sceneRect.width;

            const totalDistance = document.getElementById('totalDistance');
            const totalDistanceText = document.getElementById('totalDistanceText');
            const innerDistance = document.getElementById('innerDistance');
            const innerDistanceText = document.getElementById('innerDistanceText');
            const trainLength = document.getElementById('trainLength');
            const trainLengthText = document.getElementById('trainLengthText');
            const tunnelLength = document.getElementById('tunnelLength');
            const tunnelLengthText = document.getElementById('tunnelLengthText');

            // 1. æ€»è·¯ç¨‹ x+y ï¼ˆä»è½¦å¤´å¼€å§‹è¿›å…¥åˆ°è½¦å°¾å®Œå…¨ç¦»å¼€çš„è·ç¦»ï¼‰
            const totalStart = Math.max(20, tunnelLeftInScene);
            const totalEnd = Math.min(sceneWidth - 20, tunnelRightInScene + 120);
            const totalWidth = totalEnd - totalStart;

            totalDistance.style.display = 'block';
            totalDistance.style.top = '20px';
            totalDistance.style.left = totalStart + 'px';
            totalDistance.style.width = totalWidth + 'px';
            totalDistance.style.transform = 'none';

            totalDistanceText.style.display = 'block';
            totalDistanceText.style.top = '-5px';
            totalDistanceText.style.left = (totalStart + totalWidth / 2) + 'px';
            totalDistanceText.style.transform = 'translateX(-50%)';
            totalDistanceText.innerHTML = '<strong>æ€»è·¯ç¨‹ x+y</strong><br>ç«è½¦ä»è½¦å¤´è¿›å…¥åˆ°è½¦å°¾ç¦»å¼€';

            // 2. å†…éƒ¨è·¯ç¨‹ x-y ï¼ˆç«è½¦å®Œå…¨åœ¨éš§é“å†…æ—¶çš„è¡Œé©¶è·ç¦»ï¼‰
            const innerStart = tunnelLeftInScene;
            const innerEnd = tunnelRightInScene;
            const innerWidth = innerEnd - innerStart;

            innerDistance.style.display = 'block';
            innerDistance.style.bottom = '25px';
            innerDistance.style.left = innerStart + 'px';
            innerDistance.style.width = innerWidth + 'px';
            innerDistance.style.transform = 'none';

            innerDistanceText.style.display = 'block';
            innerDistanceText.style.bottom = '0px';
            innerDistanceText.style.left = (innerStart + innerWidth / 2) + 'px';
            innerDistanceText.style.transform = 'translateX(-50%)';
            innerDistanceText.innerHTML = '<strong>å†…éƒ¨è·¯ç¨‹ x-y</strong><br>ç«è½¦å®Œå…¨åœ¨éš§é“å†…çš„è·ç¦»';

            // 3. æ˜¾ç¤ºåŸºç¡€é•¿åº¦ä½œä¸ºå‚è€ƒ
            trainLength.style.display = 'block';
            trainLength.style.bottom = '70px';
            trainLength.style.left = '350px';
            trainLength.style.width = '120px';
            trainLength.style.transform = 'none';

            trainLengthText.style.display = 'block';
            trainLengthText.style.bottom = '80px';
            trainLengthText.style.left = '420px';
            trainLengthText.style.transform = 'translateX(-50%)';
            trainLengthText.textContent = 'y';

            tunnelLength.style.display = 'block';
            tunnelLength.style.top = '370px';
            tunnelLength.style.left = tunnelLeftInScene + 'px';
            tunnelLength.style.width = '500px';
            tunnelLength.style.transform = 'none';

            tunnelLengthText.style.display = 'block';
            tunnelLengthText.style.top = '350px';
            tunnelLengthText.style.left = (tunnelLeftInScene + 250) + 'px';
            tunnelLengthText.style.transform = 'translateX(-50%)';
            tunnelLengthText.textContent = 'x = 1000m';

            // æ›´æ–°é˜¶æ®µæŒ‡ç¤ºå™¨æ¥è§£é‡Šæ¦‚å¿µ
            const indicator = document.getElementById('phaseIndicator');
            indicator.innerHTML = `
                <div style="text-align: left; line-height: 1.6;">
                    <div style="color: #4CAF50; font-weight: bold;">ğŸŸ¢ è¡Œé©¶æ—¶é—´æ˜¯30ç§’æ—¶çš„æ€»è·¯ç¨‹ x+y = ?</div>
                    <div style="margin-bottom: 8px;">ä»è½¦å¤´å¼€å§‹è¿›å…¥éš§é“åˆ°è½¦å°¾å®Œå…¨ç¦»å¼€éš§é“çš„æ€»è·ç¦»</div>
                    <div style="color: #FF9800; font-weight: bold;">ğŸŸ  è¡Œé©¶æ—¶é—´æ˜¯20ç§’æ—¶çš„æ€»è·¯ç¨‹ x-y = ?</div>
                    <div>ç«è½¦å®Œå…¨åœ¨éš§é“å†…è¿è¡Œçš„è·ç¦»:éš§é“é•¿åº¦å‡å»ç«è½¦é•¿åº¦</div>
                </div>
            `;
        }

        // éšè—æ‰€æœ‰æµ‹é‡çº¿æ¡
        function hideMeasurements() {
            document.getElementById('trainLength').style.display = 'none';
            document.getElementById('trainLengthText').style.display = 'none';
            document.getElementById('tunnelLength').style.display = 'none';
            document.getElementById('tunnelLengthText').style.display = 'none';
            document.getElementById('totalDistance').style.display = 'none';
            document.getElementById('totalDistanceText').style.display = 'none';
            document.getElementById('innerDistance').style.display = 'none';
            document.getElementById('innerDistanceText').style.display = 'none';
        }

        // æ·»åŠ åŠ¨ç”»æ­¥éª¤æŒ‡ç¤ºå™¨ç‚¹å‡»äº‹ä»¶
        function addAnimationStepClickEvents() {
            const stepDots = document.querySelectorAll('.step-dot');
            stepDots.forEach((dot, index) => {
                dot.addEventListener('click', () => {
                    if (!isStepByStepMode) {
                        isStepByStepMode = true;
                        animationState = 'running';
                    }

                    setTimeout(() => {
                        goToAnimationStep(index);
                    }, 50);
                });
            });
        }

        // çª—å£å¤§å°å˜åŒ–æ—¶é‡æ–°è®¡ç®—ä½ç½®
        function handleResize() {
            if (isStepByStepMode && animationState === 'running') {
                setTimeout(() => {
                    goToAnimationStep(currentAnimationStep);
                }, 100);
            }
        }

        // é¡µé¢åŠ è½½æ—¶çš„åˆå§‹åŒ–
        // åˆå§‹åŒ–åŠ¨ç”»ç›¸å…³äº‹ä»¶
        addAnimationStepClickEvents();
        window.addEventListener('resize', handleResize);

        // ç¡®ä¿å‡½æ•°å…¨å±€å¯è®¿é—®
        window.nextAnimationStep = nextAnimationStep;
        window.showEducationalMeasurements = showEducationalMeasurements;
        window.showBasicMeasurements = showBasicMeasurements;
        window.resetAnimation = resetAnimation;

        // æ¸²æŸ“æ•°å­¦å…¬å¼
        if (typeof renderMathInElement !== 'undefined') {
            renderMathInElement(document.body, {
                delimiters: [
                    {left: '\\(', right: '\\)', display: false},
                    {left: '\\[', right: '\\]', display: true}
                ]
            });
        }
    });

</script>
<script src="navigation.js"></script>
</body>

</html>